{"version":3,"sources":["webpack:///./src/App.vue?5cf0","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/components/Virtual-everest-climb.js","webpack:///./src/components/info-parsers.js","webpack:///src/components/Everest.vue","webpack:///./src/components/Everest.vue?6710","webpack:///./src/components/Everest.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./src/components/facts.json"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","facts","SECOND_DURATIONS","hour","minute","second","Virtual_everest_climb_VirtualEverestClimb","VirtualEverestClimb","providedOptions","classCallCheck_default","_this","options","firstLadderDate","Date","ladders","numberOfLadders","ladderHeight","ladderHeightInMetres","ladderCount","startNumberOfLadders","currentAltitude","forEach","fact","target","targetAltitude","altitudeInMetres","createClass_default","key","value","delta","Math","abs","result","keys_default","floor","hours","toString","length","minutes","seconds","percentageComplete","reachedIndex","i","reachedFact","nextMilestone","distanceToNextMilestone","laddersToNextMilestone","ceil","percentageCompleteText","toFixed","altitude","title","description","thumbnail","parseText","info","plurals","altitudeText","toLocaleString","laddersUntilSummit","laddersUntilSummitText","laddersUntilMilestoneText","milestoneTitle","milestoneInfo","parseImages","backdropPercentage","backdrop","padStart","milestoneImage","Everest","parseDuration","registerLadderAscent","getCurrentAltitudeInfo","interval","resume","resumeFromLastLadder","undefined","vec","components_Everest","_vm","staticClass","style","backgroundImage","images","on","click","$event","registerLadder","_v","src","alt","_s","text","duration","src_components_Everest","Everest_normalizeComponent","vue_esm","use","vue_router_esm","router","routes","path","name","component","config","productionTip","el","components","App","template","module","exports"],"mappings":"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","file":"static/js/app.2b34904fcce9bac7a2f0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40eee431\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40eee431\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40eee431\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n    <!--<img src=\"./assets/logo.png\">-->\n    <router-view/>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App'\n}\n</script>\n\n<style>\n#app {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: center;\n  margin: 0;\n  padding: 0;\n  background: #2BC0E4; /* fallback for old browsers */\n  background: -webkit-linear-gradient(to bottom, #25ECFE, #007FA2); /* Chrome 10-25, Safari 5.1-6 */\n  background: linear-gradient(to bottom, #25ECFE, #007FA2); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n  height: 100vh;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","const facts = require('./facts').facts\nconst SECOND_DURATIONS = {\n  hour: 3600,\n  minute: 60,\n  second: 1\n}\n\nexport class VirtualEverestClimb {\n  constructor (providedOptions) {\n    const _this = this\n    const options = providedOptions || {}\n    if (providedOptions.firstLadderDate) {\n      this.firstLadderDate = new Date(providedOptions.firstLadderDate)\n    } else {\n      this.firstLadderDate = null\n    }\n    this.ladders = options.numberOfLadders || 10\n    this.ladderHeight = options.ladderHeightInMetres || 7.3\n    this.ladderCount = options.startNumberOfLadders || 0\n    this.currentAltitude = this.ladderCount * this.ladderHeight\n\n    facts.forEach(\n      function (fact) {\n        if (fact.target) {\n          _this.targetAltitude = fact.altitudeInMetres\n        }\n      }\n    )\n  }\n\n  registerLadderAscent () {\n    this.ladderCount++\n    this.currentAltitude = this.currentAltitude + this.ladderHeight\n    if (!this.firstLadderDate) {\n      this.firstLadderDate = new Date()\n    }\n  }\n\n  parseDuration () {\n    if (this.firstLadderDate) {\n      let delta = Math.abs(new Date() - this.firstLadderDate) / 1000\n      const result = {}\n\n      Object.keys(SECOND_DURATIONS).forEach(function (key) {\n        result[key] = Math.floor(delta / SECOND_DURATIONS[key])\n        delta -= result[key] * SECOND_DURATIONS[key]\n      })\n      let hours = result.hour.toString()\n      if (hours.length === 1) {\n        hours = '0' + hours\n      }\n      let minutes = result.minute.toString()\n      if (minutes.length === 1) {\n        minutes = '0' + minutes\n      }\n      let seconds = result.second.toString()\n      if (seconds.length === 1) {\n        seconds = '0' + seconds\n      }\n      return {\n        hours: hours,\n        minutes: minutes,\n        seconds: seconds\n      }\n    } else {\n      return {\n        hours: '00',\n        minutes: '00',\n        seconds: '00'\n      }\n    }\n  }\n\n  getCurrentAltitudeInfo () {\n    const percentageComplete = (this.currentAltitude / this.targetAltitude) * 100\n\n    let reachedIndex = 0\n    for (let i = 0; i < facts.length; i++) {\n      if (facts[i].altitudeInMetres < this.currentAltitude) {\n        reachedIndex = i\n      }\n    }\n    const reachedFact = facts[reachedIndex]\n    const nextMilestone = facts[reachedIndex + 1]\n    const distanceToNextMilestone = nextMilestone.altitudeInMetres - this.currentAltitude\n    const laddersToNextMilestone = Math.ceil((distanceToNextMilestone / this.ladderHeight))\n\n    return {\n      ladderHeight: this.ladderHeight,\n      ladderCount: this.ladderCount,\n      currentAltitude: this.currentAltitude,\n      targetAltitude: this.targetAltitude,\n      percentageComplete: percentageComplete,\n      percentageCompleteText: percentageComplete.toFixed(0).toString() + '%',\n      reachedFact: {\n        altitude: reachedFact.altitudeInMetres,\n        title: reachedFact.title,\n        description: reachedFact.description\n      },\n      nextMilestone: {\n        thumbnail: nextMilestone.thumbnail,\n        altitude: nextMilestone.altitudeInMetres,\n        title: nextMilestone.title,\n        description: nextMilestone.description\n      },\n      distanceToNextMilestone: distanceToNextMilestone,\n      laddersToNextMilestone: laddersToNextMilestone,\n      firstLadderDate: this.firstLadderDate\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Virtual-everest-climb.js","export function parseText (info) {\n  function plurals (value) {\n    if (value === 1) {\n      return ''\n    } else {\n      return 's'\n    }\n  }\n\n  const altitudeText = `${Math.ceil(info.currentAltitude).toLocaleString()}m`\n\n  let laddersUntilSummit = info.targetAltitude - info.currentAltitude\n  if (laddersUntilSummit < 0) {\n    laddersUntilSummit = 0\n  }\n  laddersUntilSummit = Math.ceil(laddersUntilSummit / info.ladderHeight).toLocaleString()\n\n  return {\n    altitudeText: altitudeText,\n    laddersUntilSummitText: `Just ${laddersUntilSummit} ladder${plurals(laddersUntilSummit)} to Everest summit!`,\n    laddersUntilMilestoneText: `We've ${info.laddersToNextMilestone} ladder${plurals(info.laddersToNextMilestone)} until`,\n    milestoneTitle: info.nextMilestone.title,\n    milestoneInfo: info.nextMilestone.description\n  }\n}\n\nexport function parseImages (info) {\n  let backdropPercentage = info.percentageComplete.toFixed(0)\n  if (backdropPercentage > 100) {\n    backdropPercentage = 100\n  }\n  const padded = backdropPercentage.padStart(3, '0')\n  return {\n    backdrop: `'./static/backdrops/backdrop-${padded}.png'`,\n    milestoneImage: `static/milestones/${info.nextMilestone.thumbnail}`\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/info-parsers.js","<template>\n  <div class=\"everest\" :style=\"{ backgroundImage: 'url(' + images.backdrop +')'}\" v-on:click=\"registerLadder()\">\n  <div id=\"logo\">\n  </div>\n\n    <div id=\"milestone\" class=\"card\">\n      <img v-bind:src=\"images.milestoneImage\" id=\"milestoneImage\" alt=\"Thumbnail of current milestone\">\n      <div id=\"milestoneInfo\">\n        <p>{{text.laddersUntilMilestoneText}}</p>\n        <h2>{{text.milestoneTitle}}</h2>\n        <p>{{text.milestoneInfo}}</p>\n      </div>\n    </div>\n\n    <div class=\"gap\"></div>\n\n    <div id=\"summit\" class=\"card\">\n      <p>{{text.laddersUntilSummitText}}</p>\n    </div>\n\n    <div class=\"gap\"></div>\n\n    <div id=\"altitude\" class=\"card\">\n    <p>Our current altitude:</p>\n    <h1>{{text.altitudeText}}</h1>\n  </div>\n\n  <div class=\"gap\"></div>\n\n  <div id=\"timer\" class=\"card\">\n    <div class=\"duration\">{{duration.seconds}}<br>\n      <p class=\"durationLabel\">Seconds</p></div>\n    <div class=\"duration\">{{duration.minutes}}<br>\n      <p class=\"durationLabel\">Minutes</p></div>\n    <div class=\"duration\">{{duration.hours}}<br>\n      <p class=\"durationLabel\">Hours</p></div>\n  </div>\n\n</div>\n</template>\n\n<script>\nimport { VirtualEverestClimb } from './Virtual-everest-climb'\nimport { parseImages, parseText } from './info-parsers'\n\nexport default {\n  name: 'Everest',\n  methods: {\n    time: function processTimeEvent () {\n      const result = this.vec.parseDuration()\n      this.duration = {\n        hours: result.hours,\n        minutes: result.minutes,\n        seconds: result.seconds\n      }\n    },\n    registerLadder: function registerLadder () {\n      this.vec.registerLadderAscent()\n      const info = this.vec.getCurrentAltitudeInfo()\n      this.text = parseText(info)\n      this.images = parseImages(info)\n      localStorage.setItem('ladderCount', JSON.stringify(info.ladderCount))\n      if (info.firstLadderDate) {\n        localStorage.setItem('firstLadderDate', JSON.stringify(info.firstLadderDate))\n      }\n    }\n  },\n\n  mounted () {\n    this.interval = setInterval(this.time, 1000)\n  },\n\n  beforeDestroy () {\n    clearInterval(this.interval)\n  },\n\n  data () {\n    const resumeFromLastLadder = this.$route.query.resumeFromLastLadder\n    let resume\n    if (resumeFromLastLadder === 'true') {\n      resume = true\n    } else {\n      resume = false\n    }\n    let startNumberOfLadders = localStorage.getItem('ladderCount')\n    if (resume && startNumberOfLadders) {\n      startNumberOfLadders = JSON.parse(startNumberOfLadders)\n    } else {\n      startNumberOfLadders = 0\n    }\n    let firstLadderDate = localStorage.getItem('firstLadderDate')\n    if (resume && firstLadderDate) {\n      firstLadderDate = JSON.parse(firstLadderDate)\n    } else {\n      firstLadderDate = undefined\n    }\n    const vec = new VirtualEverestClimb(\n      {\n        numberOfLadders: 10,\n        ladderHeightInMetres: 7.3,\n        startNumberOfLadders: startNumberOfLadders,\n        firstLadderDate: firstLadderDate\n      }\n    )\n    const info = vec.getCurrentAltitudeInfo()\n    return {\n      vec: vec,\n      text: parseText(info),\n      images: parseImages(info),\n      duration: vec.parseDuration()\n    }\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n\n  .everest {\n    -webkit-touch-callout: none; /* iOS Safari */\n    -webkit-user-select: none; /* Safari */\n    -khtml-user-select: none; /* Konqueror HTML */\n    -moz-user-select: none; /* Firefox */\n    -ms-user-select: none; /* Internet Explorer/Edge */\n    user-select: none; /* Non-prefixed version, currently supported by Chrome and Opera */\n    height: 100vh;\n    background-repeat: no-repeat;\n    background-size: contain;\n    transition: background-image 2s ease-in-out;\n  }\n\n  .gap {\n    clear: both;\n    padding: 1em;\n  }\n\n  h1 {\n    padding: 15px;\n    margin: -40px 0 -40px 0;\n    font-family: 'Baloo Thambi', cursive;\n    font-size: 500%;\n  }\n\n  h2 {\n    padding: 0;\n    margin: -5px 10px -5px 10px;\n    font-family: 'Baloo Thambi', cursive;\n    font-size: 300%;\n  }\n\n  p {\n    padding: 0 20px 0 20px;\n    margin: 0;\n    font-family: 'Jaldi', sans-serif;\n    font-size: 200%;\n  }\n\n  #logo {\n    float: left;\n    margin: 15px;\n    width: 220px;\n    height: 92px;\n    background-repeat: no-repeat;\n    background-image: url(../assets/logo-inverse.png);\n  }\n\n  #altitude {\n    float: right;\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    background-color: white\n  }\n\n  #summit {\n    float: right;\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    background-color: white\n  }\n\n  #milestoneImage {\n    display: inline-block;\n    height: 180px;\n    width: auto;\n    background-color: white;\n    float: left;\n  }\n\n  #milestoneInfo {\n    display: inline-block;\n    float: left;\n  }\n\n  #milestone {\n    float: right;\n    display: inline-block;\n    padding: 0;\n    margin: 15px 0 0 0;\n    background-color: white\n  }\n\n  #timer {\n    float: right;\n    display: inline-block;\n    padding: 0;\n    margin: 0;\n    background-color: white;\n    font-family: 'Oxygen Mono', monospace;\n    font-size: 300%;\n    height: auto;\n  }\n\n  .duration {\n    padding: 0;\n    margin: 0;\n    width: 100px;\n    height: 80px;\n    float: right;\n  }\n\n  .durationLabel {\n    font-family: 'Jaldi', sans-serif;\n    font-size: 20px;\n    margin-top: -10px;\n  }\n\n  .card {\n    box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Everest.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"everest\",style:({ backgroundImage: 'url(' + _vm.images.backdrop +')'}),on:{\"click\":function($event){_vm.registerLadder()}}},[_c('div',{attrs:{\"id\":\"logo\"}}),_vm._v(\" \"),_c('div',{staticClass:\"card\",attrs:{\"id\":\"milestone\"}},[_c('img',{attrs:{\"src\":_vm.images.milestoneImage,\"id\":\"milestoneImage\",\"alt\":\"Thumbnail of current milestone\"}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"milestoneInfo\"}},[_c('p',[_vm._v(_vm._s(_vm.text.laddersUntilMilestoneText))]),_vm._v(\" \"),_c('h2',[_vm._v(_vm._s(_vm.text.milestoneTitle))]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.text.milestoneInfo))])])]),_vm._v(\" \"),_c('div',{staticClass:\"gap\"}),_vm._v(\" \"),_c('div',{staticClass:\"card\",attrs:{\"id\":\"summit\"}},[_c('p',[_vm._v(_vm._s(_vm.text.laddersUntilSummitText))])]),_vm._v(\" \"),_c('div',{staticClass:\"gap\"}),_vm._v(\" \"),_c('div',{staticClass:\"card\",attrs:{\"id\":\"altitude\"}},[_c('p',[_vm._v(\"Our current altitude:\")]),_vm._v(\" \"),_c('h1',[_vm._v(_vm._s(_vm.text.altitudeText))])]),_vm._v(\" \"),_c('div',{staticClass:\"gap\"}),_vm._v(\" \"),_c('div',{staticClass:\"card\",attrs:{\"id\":\"timer\"}},[_c('div',{staticClass:\"duration\"},[_vm._v(_vm._s(_vm.duration.seconds)),_c('br'),_vm._v(\" \"),_c('p',{staticClass:\"durationLabel\"},[_vm._v(\"Seconds\")])]),_vm._v(\" \"),_c('div',{staticClass:\"duration\"},[_vm._v(_vm._s(_vm.duration.minutes)),_c('br'),_vm._v(\" \"),_c('p',{staticClass:\"durationLabel\"},[_vm._v(\"Minutes\")])]),_vm._v(\" \"),_c('div',{staticClass:\"duration\"},[_vm._v(_vm._s(_vm.duration.hours)),_c('br'),_vm._v(\" \"),_c('p',{staticClass:\"durationLabel\"},[_vm._v(\"Hours\")])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-301e97b2\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Everest.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-301e97b2\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Everest.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Everest.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Everest.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-301e97b2\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Everest.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-301e97b2\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Everest.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Everest from '@/components/Everest'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'Everest',\n      component: Everest\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport router from './router'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"facts\":[{\"thumbnail\":\"sea.png\",\"altitudeInMetres\":0,\"title\":\"Sea level\",\"description\":\"A long way to go yet!\",\"target\":false},{\"thumbnail\":\"shard.jpg\",\"altitudeInMetres\":306,\"title\":\"The Shard\",\"description\":\"Europe's tallest building!\",\"target\":false},{\"thumbnail\":\"shanghai.jpg\",\"altitudeInMetres\":631,\"title\":\"Shanghai Tower\",\"description\":\"World's longest elevator!\",\"target\":false},{\"thumbnail\":\"burg-khalifa.jpg\",\"altitudeInMetres\":828,\"title\":\"Burj Khalifa\",\"description\":\"The World's tallest building!\",\"target\":false},{\"thumbnail\":\"snowden.jpg\",\"altitudeInMetres\":1085,\"title\":\"Mount Snowden\",\"description\":\"Highest mountain in Wales!\",\"target\":true},{\"thumbnail\":\"ben-nevis.jpg\",\"altitudeInMetres\":1343,\"title\":\"Ben Nevis\",\"description\":\"The UK's highest mountain!\",\"target\":false},{\"thumbnail\":\"zeus.jpg\",\"altitudeInMetres\":2919,\"title\":\"Mount Olympus\",\"description\":\"Home of the Gods!\",\"target\":false},{\"thumbnail\":\"mount-fuji.jpg\",\"altitudeInMetres\":3776,\"title\":\"Mount Fuji\",\"description\":\"First climbed by a monk!\",\"target\":false},{\"thumbnail\":\"skydiving.jpg\",\"altitudeInMetres\":3810,\"title\":\"12,500 ft!\",\"description\":\"Standard skydiving altitude!\",\"target\":false},{\"thumbnail\":\"la-rinconada.jpg\",\"altitudeInMetres\":5098,\"title\":\"La Rinconada\",\"description\":\"Highest town in the world!\",\"target\":false},{\"thumbnail\":\"clouds.jpg\",\"altitudeInMetres\":5486,\"title\":\"Cloud level\",\"description\":\"So high that clouds start forming!\",\"target\":false},{\"thumbnail\":\"ojos-del-salado.jpg\",\"altitudeInMetres\":6887,\"title\":\"Ojos del Salado\",\"description\":\"The World's highest active volcano!\",\"target\":false},{\"thumbnail\":\"death-zone.jpg\",\"altitudeInMetres\":7925,\"title\":\"Death Zone!\",\"description\":\"Oxygen levels can't sustain human life!\",\"target\":false},{\"thumbnail\":\"summit.jpg\",\"altitudeInMetres\":8850,\"title\":\"MOUNT EVEREST SUMMIT!\",\"description\":\"Earth's highest point!\",\"target\":true},{\"thumbnail\":\"airplanes.jpg\",\"altitudeInMetres\":10668,\"title\":\"Airplanes\",\"description\":\"Commercial airplanes fly at this height!\",\"target\":false},{\"thumbnail\":\"space.jpg\",\"altitudeInMetres\":100000,\"title\":\"Space!\",\"description\":\"So high that space begins...\",\"target\":false}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/facts.json\n// module id = SoPB\n// module chunks = 1"],"sourceRoot":""}